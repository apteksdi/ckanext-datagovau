{% ckan_extends %}
{% block primary_content_inner %}
{{ super() }}

<div class="module-content">
    {{ h.disqus_comments() }}
</div>
{% endblock %}
{% block package_additional_info %}
<section class="additional-info" xmlns:dcat="http://www.w3.org/ns/dcat#"
         xmlns:dcam="http://purl.org/dc/dcam/"
         xmlns:aglsterms="http://www.agls.gov.au/agls/terms/"
         xmlns:agentterms="http://www.agls.gov.au/agls/agentterms/"
         xmlns:availterms="http://www.agls.gov.au/agls/availterms/"
         xmlns:adminterms="http://www.agls.gov.au/agls/adminterms/"
         xmlns:dct="http://purl.org/dc/terms/">
    <h3>{{ _('Additional Info') }}</h3>
    <table class="table table-striped table-bordered table-condensed">
        <thead>
        <tr>
            <th scope="col">{{ _('Field') }}</th>
            <th scope="col">{{ _('Value') }}</th>
        </tr>
        </thead>
        <tbody>


        {# Add our custom field to the dataset read page. #}
        {% if pkg.get('metadata_created') %}
        <tr>
            <th scope="row" class="dataset-label">Date Published</th>
            <td class="dataset-details" property="dct:issued">{{ pkg.metadata_created.split("T")[0] }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('metadata_updated') %}
        <tr>
            <th scope="row" class="dataset-label">Date Updated</th>
            <td class="dataset-details" property="dct:updated">{{ pkg.metadata_updated.split("T")[0] }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('agency_program') %}
        <tr>
            <th scope="row" class="dataset-label">Agency Program</th>
            <td class="dataset-details"> {{ pkg.agency_program }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('Agency Program') %}
        <tr>
            <th scope="row" class="dataset-label">Agency Program</th>
            <td class="dataset-details"> {{ pkg.get('Agency Program') }}</td>
        </tr>
        {% endif %}
        {% if h.get_pkg_dict_extra(pkg,'DCTERMS.Source.URI') %}
        <tr>
            <th scope="row" class="dataset-label">{{ _('Source') }}</th>
            <td class="dataset-details" property="dct:source">{{ h.link_to(h.get_pkg_dict_extra(pkg,'DCTERMS.Source.URI'),
                h.get_pkg_dict_extra(pkg,'DCTERMS.Source.URI'), rel='dct:source', target='_blank') }}
            </td>
        </tr>
        {% endif %}

        {% if pkg.get('contact_point') %}
        <tr>
            <th scope="row" class="dataset-label">Contact Point</th>
            <td class="dataset-details" property="dcat:contactPoint"> {{ h.mail_to(email_address=pkg.contact_point,
                name=pkg.contact_point) }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('spatial_coverage') %}

        <tr>
            <th scope="row" class="dataset-label">Geospatial Coverage</th>
            <td class="dataset-details" property="dct:spatial"> {{ pkg.spatial_coverage }}</td>
        </tr>
        {% endif %}
        {% if h.get_pkg_dict_extra(pkg,'Geospatial Coverage') %}

        <tr>
            <th scope="row" class="dataset-label">Geospatial Coverage</th>
            <td class="dataset-details" property="dct:spatial"> {{ h.get_pkg_dict_extra(pkg,'Geospatial Coverage') }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('granularity') %}

        <tr>
            <th scope="row" class="dataset-label">Data Granularity</th>
            <td class="dataset-details"> {{ pkg.granularity }}</td>
        </tr>
        {% endif %}
        {% if h.get_pkg_dict_extra(pkg,'Granularity') %}

        <tr>
            <th scope="row" class="dataset-label">Data Granularity</th>
            <td class="dataset-details"> {{ h.get_pkg_dict_extra(pkg,'Granularity') }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('jurisdiction') %}

        <tr>
            <th scope="row" class="dataset-label">Government Jurisdiction</th>
            <td class="dataset-details" property="aglsterms:AglsJuri"> {{ pkg.jurisdiction }}</td>
        </tr>
        {% endif %}
        {% if h.get_pkg_dict_extra(pkg,'AGLSTERMS.Jurisdiction') %}

        <tr>
            <th scope="row" class="dataset-label">Government Jurisdiction</th>
            <td class="dataset-details" property="aglsterms:AglsJuri"> {{ h.get_pkg_dict_extra(pkg,'AGLSTERMS.Jurisdiction') }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('temporal_coverage') %}

        <tr>
            <th scope="row" class="dataset-label">Temporal Coverage</th>
            <td class="dataset-details" property="dct:temporal"> {{ pkg.temporal_coverage }}</td>
        </tr>
        {% endif %}
        {% if h.get_pkg_dict_extra(pkg,'Temporal Coverage') %}

        <tr>
            <th scope="row" class="dataset-label">Temporal Coverage</th>
            <td class="dataset-details" property="dct:temporal"> {{ h.get_pkg_dict_extra(pkg,'Temporal Coverage') }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('data_state') %}

        <tr>
            <th scope="row" class="dataset-label">Data State</th>
            <td class="dataset-details"> {{ pkg.data_state }}</td>
        </tr>
        {% endif %}
        {% if pkg.get('update_freq') %}

        <tr>
            <th scope="row" class="dataset-label">Update Frequency</th>
            <td class="dataset-details"> {{ pkg.update_freq }}</td>
        </tr>
        {% endif %}
        {% if h.get_pkg_dict_extra(pkg,'Update Frequency') %}
        <tr>
            <th scope="row" class="dataset-label">Update Frequency</th>
            <td class="dataset-details"> {{ h.get_pkg_dict_extra(pkg,'Update Frequency') }}</td>
        </tr>
        {% endif %}

{% set email =h.get_last_active_user(c.pkg_dict['id']).get('email','') %}
        <tr>
            <th scope="row" class="dataset-label">{{ _('Maintainer') }}</th>
            <td class="dataset-details" property="dc:contributor">{{
		  h.mail_to(email_address=(email or ' '), name=h.get_last_active_user(c.pkg_dict['id']).get("display_name",'')) }}
            </td>
        </tr>
        <tr>
            <th scope="row" class="dataset-label">Publisher/Agency</th>
            <td class="dataset-details" property="dc:publisher">{{ c.pkg_dict['organization']['title']}}
            </td>
        </tr>
        <tr>
            <th scope="row" class="dataset-label">Type</th>
            <td class="dataset-details" property="dc:type">Dataset</td>
        </tr>
        <tr>
            <th scope="row" class="dataset-label">Language</th>
            <td class="dataset-details" property="dc:language">English</td>
        </tr>

        </tbody>
    </table>
</section>


{% endblock %}
